<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <Fragment>
    <Binary
        Id="Vita.Wix.CA.dll"
        SourceFile="$(var.Htc.Vita.Wix.CustomAction.net45.TargetDir)Htc.Vita.Wix.CustomAction.CA.dll"
    />
    <CustomAction
        Id="Vita_CurrentTimestampFetcher"
        BinaryKey="Vita.Wix.CA.dll"
        DllEntry="CurrentTimestampFetch"
        Execute="immediate"
        Return="check"
    />
    <CustomAction
        Id="Vita_ServiceManagerImmediate"
        BinaryKey="Vita.Wix.CA.dll"
        DllEntry="ServiceManageImmediate"
        Execute="immediate"
        Return="check"
    />
    <CustomAction
        Id="Vita_ServiceManagerDeferred"
        BinaryKey="Vita.Wix.CA.dll"
        DllEntry="ServiceManageDeferred"
        Execute="deferred"
        Return="check"
    />
    <CustomAction
        Id="Vita_SidTranslator"
        BinaryKey="Vita.Wix.CA.dll"
        DllEntry="SidTranslate"
        Execute="immediate"
        Return="check"
    />
    <InstallExecuteSequence>
      <Custom
          Action="Vita_CurrentTimestampFetcher"
          After="InstallInitialize"
      />
      <Custom
          Action="Vita_ServiceManagerImmediate"
          Before="Vita_ServiceManagerDeferred"
      />
      <Custom
          Action="Vita_ServiceManagerDeferred"
          After="InstallInitialize"
      />
      <Custom
          Action="Vita_SidTranslator"
          After="InstallInitialize"
      />
    </InstallExecuteSequence>
  </Fragment>
</Wix>
